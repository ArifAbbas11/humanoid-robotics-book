<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-capstone/troubleshooting" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.0.0">
<title data-rh="true">Troubleshooting | Physical AI &amp; Humanoid Robotics Book</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://arifabbas11.github.io/humanoid-robotics-book/img/docusaurus-social-card.jpg"><meta data-rh="true" name="twitter:image" content="https://arifabbas11.github.io/humanoid-robotics-book/img/docusaurus-social-card.jpg"><meta data-rh="true" property="og:url" content="https://arifabbas11.github.io/humanoid-robotics-book/capstone/troubleshooting"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Troubleshooting | Physical AI &amp; Humanoid Robotics Book"><meta data-rh="true" name="description" content="Overview"><meta data-rh="true" property="og:description" content="Overview"><link data-rh="true" rel="icon" href="/humanoid-robotics-book/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://arifabbas11.github.io/humanoid-robotics-book/capstone/troubleshooting"><link data-rh="true" rel="alternate" href="https://arifabbas11.github.io/humanoid-robotics-book/capstone/troubleshooting" hreflang="en"><link data-rh="true" rel="alternate" href="https://arifabbas11.github.io/humanoid-robotics-book/capstone/troubleshooting" hreflang="x-default"><link rel="stylesheet" href="/humanoid-robotics-book/assets/css/styles.4badbe07.css">
<script src="/humanoid-robotics-book/assets/js/runtime~main.b761023c.js" defer="defer"></script>
<script src="/humanoid-robotics-book/assets/js/main.a101da1e.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"light")}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/humanoid-robotics-book/"><div class="navbar__logo"><img src="/humanoid-robotics-book/img/logo.svg" alt="Physical AI &amp; Humanoid Robotics Book" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/humanoid-robotics-book/img/logo.svg" alt="Physical AI &amp; Humanoid Robotics Book" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">Humanoid Robotics Book</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/humanoid-robotics-book/intro">Book</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/ArifAbbas11/humanoid-robotics-book" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/humanoid-robotics-book/intro">Physical AI &amp; Humanoid Robotics: From Simulation to Embodied Intelligence</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/humanoid-robotics-book/ros-fundamentals/intro">Module 1: The Robotic Nervous System (ROS 2)</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/humanoid-robotics-book/simulation/intro">Module 2: The Digital Twin (Gazebo &amp; Unity)</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/humanoid-robotics-book/ai-navigation/intro">Module 3: The AI-Robot Brain (NVIDIA Isaac)</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/humanoid-robotics-book/vla-integration/intro">Module 4: Vision-Language-Action (VLA)</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" aria-expanded="true" href="/humanoid-robotics-book/capstone/intro">Capstone Project</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/humanoid-robotics-book/capstone/intro">Capstone Project: Complete Humanoid Robot Implementation</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/humanoid-robotics-book/capstone/integration-guide">Integration Guide</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/humanoid-robotics-book/capstone/testing-guide">Testing Guide</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/humanoid-robotics-book/capstone/troubleshooting">Troubleshooting</a></li></ul></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/humanoid-robotics-book/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Capstone Project</span><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Troubleshooting</span><meta itemprop="position" content="2"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><h1 id="troubleshooting">Troubleshooting</h1>
<h2 id="overview">Overview</h2>
<p>Troubleshooting is an essential skill for humanoid robotics development. This guide provides systematic approaches to identify, diagnose, and resolve issues that arise in complex integrated systems. Effective troubleshooting requires understanding both individual components and their interactions.</p>
<h2 id="systematic-troubleshooting-approach">Systematic Troubleshooting Approach</h2>
<h3 id="the-troubleshooting-process">The Troubleshooting Process</h3>
<pre><code>1. Problem Identification → 2. Information Gathering → 3. Hypothesis Formation
         ↓
4. Testing Hypotheses → 5. Solution Implementation → 6. Verification
</code></pre>
<h3 id="information-gathering">Information Gathering</h3>
<h4 id="log-analysis">Log Analysis</h4>
<pre><code class="language-bash"># Essential ROS 2 troubleshooting commands
ros2 topic list                    # List all active topics
ros2 topic info /topic_name        # Get information about a topic
ros2 topic echo /topic_name        # Monitor topic messages
ros2 service list                  # List all services
ros2 action list                   # List all actions
ros2 node list                     # List all nodes
ros2 run rqt_graph rqt_graph       # Visualize node connections
</code></pre>
<h4 id="system-monitoring">System Monitoring</h4>
<pre><code class="language-bash"># Monitor system resources
htop                                # CPU and memory usage
nvidia-smi                         # GPU usage (if applicable)
iotop                              # I/O usage
iftop                              # Network usage

# ROS 2 specific monitoring
ros2 run tf2_tools view_frames     # Check TF tree
ros2 param list &lt;node_name&gt;        # Check node parameters
ros2 lifecycle list &lt;node_name&gt;    # Check lifecycle nodes
</code></pre>
<h2 id="common-troubleshooting-scenarios">Common Troubleshooting Scenarios</h2>
<h3 id="communication-issues">Communication Issues</h3>
<p><strong>Problem</strong>: Nodes cannot communicate with each other.</p>
<p><strong>Diagnosis</strong>:</p>
<ol>
<li>
<p>Check if nodes are running:</p>
<pre><code class="language-bash">ros2 node list
ros2 lifecycle list &lt;node_name&gt;  # for lifecycle nodes
</code></pre>
</li>
<li>
<p>Verify topic connections:</p>
<pre><code class="language-bash">ros2 topic info /topic_name
ros2 topic hz /topic_name        # Check message rate
</code></pre>
</li>
<li>
<p>Check network configuration:</p>
<pre><code class="language-bash">echo $ROS_DOMAIN_ID
echo $ROS_LOCALHOST_ONLY
# Ensure both machines have same domain ID if on same network
</code></pre>
</li>
</ol>
<p><strong>Solutions</strong>:</p>
<ol>
<li>Verify correct topic names and message types</li>
<li>Check QoS profile compatibility</li>
<li>Ensure proper network configuration for multi-machine setups</li>
<li>Check firewall settings for ROS 2 ports (typically UDP/TCP 11000+)</li>
</ol>
<h3 id="sensor-data-issues">Sensor Data Issues</h3>
<p><strong>Problem</strong>: Sensor data is not being published or is incorrect.</p>
<p><strong>Diagnosis</strong>:</p>
<ol>
<li>
<p>Check sensor hardware:</p>
<pre><code class="language-bash">lsusb                            # List USB devices
lspci | grep -i nvidia          # Check GPU
ls /dev | grep camera           # Check camera devices
</code></pre>
</li>
<li>
<p>Monitor sensor topics:</p>
<pre><code class="language-bash">ros2 topic echo /sensor_topic
ros2 run image_view image_view _image:=/camera/image_raw
</code></pre>
</li>
<li>
<p>Check sensor drivers:</p>
<pre><code class="language-bash">ros2 run rqt_reconfigure rqt_reconfigure
ros2 param list &lt;sensor_node_name&gt;
</code></pre>
</li>
</ol>
<p><strong>Solutions</strong>:</p>
<ol>
<li>Verify sensor calibration files</li>
<li>Check camera permissions: <code>sudo chmod 666 /dev/video*</code></li>
<li>Ensure proper power and data connections</li>
<li>Update sensor drivers if necessary</li>
</ol>
<h3 id="navigation-issues">Navigation Issues</h3>
<p><strong>Problem</strong>: Robot fails to navigate or plans invalid paths.</p>
<p><strong>Diagnosis</strong>:</p>
<pre><code class="language-python"># Debug navigation with this approach
import rclpy
from rclpy.node import Node
from nav_msgs.msg import Path, OccupancyGrid
from geometry_msgs.msg import PoseStamped

class NavigationDebugger(Node):
    def __init__(self):
        super().__init__(&#x27;navigation_debugger&#x27;)

        # Subscribe to navigation topics
        self.path_sub = self.create_subscription(Path, &#x27;/plan&#x27;, self.path_callback, 10)
        self.map_sub = self.create_subscription(OccupancyGrid, &#x27;/map&#x27;, self.map_callback, 10)
        self.goal_sub = self.create_subscription(PoseStamped, &#x27;/goal_pose&#x27;, self.goal_callback, 10)

    def path_callback(self, msg):
        self.get_logger().info(f&#x27;Path received with {len(msg.poses)} waypoints&#x27;)
        if len(msg.poses) == 0:
            self.get_logger().error(&#x27;Received empty path!&#x27;)

    def map_callback(self, msg):
        self.get_logger().info(f&#x27;Map: {msg.info.width}x{msg.info.height}, resolution: {msg.info.resolution}&#x27;)

    def goal_callback(self, msg):
        self.get_logger().info(f&#x27;Goal received: ({msg.pose.position.x}, {msg.pose.position.y})&#x27;)
</code></pre>
<p><strong>Solutions</strong>:</p>
<ol>
<li>Verify costmap parameters and inflation settings</li>
<li>Check TF tree for proper transforms</li>
<li>Ensure proper map resolution and inflation</li>
<li>Validate robot footprint configuration</li>
</ol>
<h3 id="perception-issues">Perception Issues</h3>
<p><strong>Problem</strong>: Object detection or recognition fails.</p>
<p><strong>Diagnosis</strong>:</p>
<pre><code class="language-bash"># Check vision pipeline
ros2 run image_view image_view _image:=/camera/image_raw
ros2 topic echo /object_detections --field results
ros2 run rqt_image_view rqt_image_view
</code></pre>
<p><strong>Solutions</strong>:</p>
<ol>
<li>Verify camera calibration</li>
<li>Check lighting conditions</li>
<li>Adjust detection thresholds</li>
<li>Ensure proper image encoding and format</li>
</ol>
<h2 id="advanced-troubleshooting-techniques">Advanced Troubleshooting Techniques</h2>
<h3 id="debugging-with-gdb">Debugging with GDB</h3>
<p>For C++ nodes that crash:</p>
<pre><code class="language-bash"># Run node with GDB
gdb --args ros2 run package_name node_name
(gdb) run
# When crash occurs:
(gdb) bt                    # Show backtrace
(gdb) info registers      # Show register state
(gdb) info locals         # Show local variables
</code></pre>
<h3 id="profiling-performance-issues">Profiling Performance Issues</h3>
<pre><code class="language-python"># Profile Python nodes
import cProfile
import pstats

def profile_node():
    pr = cProfile.Profile()
    pr.enable()

    # Run your node code here
    your_node_logic()

    pr.disable()
    stats = pstats.Stats(pr)
    stats.sort_stats(&#x27;cumulative&#x27;)
    stats.print_stats(10)  # Top 10 time-consuming functions
</code></pre>
<h3 id="memory-leak-detection">Memory Leak Detection</h3>
<pre><code class="language-bash"># Monitor memory usage
watch -n 1 &#x27;ps aux | grep ros2&#x27;
# Or use valgrind for C++ nodes
valgrind --tool=memcheck --leak-check=full ros2 run package_name node_name
</code></pre>
<h2 id="component-specific-troubleshooting">Component-Specific Troubleshooting</h2>
<h3 id="navigation-stack-issues">Navigation Stack Issues</h3>
<p><strong>Common Problems</strong>:</p>
<ol>
<li><strong>Local planner fails</strong>: Check <code>local_costmap</code> inflation and update rates</li>
<li><strong>Global planner fails</strong>: Verify <code>global_costmap</code> and map server</li>
<li><strong>Controller fails</strong>: Check <code>controller_server</code> parameters</li>
</ol>
<p><strong>Debug Configuration</strong>:</p>
<pre><code class="language-yaml"># navigation2.yaml - Debug configuration
local_costmap:
  local_costmap:
    ros__parameters:
      update_frequency: 5.0
      publish_frequency: 2.0
      global_frame: odom      # Ensure this matches your odometry frame
      robot_base_frame: base_link
      use_sim_time: True
      rolling_window: true
      width: 3
      height: 3
      resolution: 0.05       # Increase resolution if needed
      robot_radius: 0.2      # Match your robot&#x27;s actual radius
      plugins: [&quot;voxel_layer&quot;, &quot;inflation_layer&quot;]
      inflation_layer:
        plugin: &quot;nav2_costmap_2d::InflationLayer&quot;
        cost_scaling_factor: 3.0
        inflation_radius: 0.55
</code></pre>
<h3 id="vision-system-issues">Vision System Issues</h3>
<p><strong>Problem</strong>: Camera images are distorted or incorrect.</p>
<p><strong>Solutions</strong>:</p>
<ol>
<li><strong>Check calibration</strong>: Verify camera intrinsic and extrinsic parameters</li>
<li><strong>Update calibration</strong>: Use <code>camera_calibration</code> package</li>
<li><strong>Check encoding</strong>: Ensure proper image encoding (RGB8, BGR8, etc.)</li>
</ol>
<pre><code class="language-bash"># Verify camera calibration
ros2 run camera_calibration_parsers parse --file camera_info.yaml
# Check image format
ros2 topic info /camera/image_raw
</code></pre>
<h3 id="control-system-issues">Control System Issues</h3>
<p><strong>Problem</strong>: Robot moves erratically or doesn&#x27;t respond properly.</p>
<p><strong>Diagnosis</strong>:</p>
<ol>
<li>Check control loop frequency</li>
<li>Verify joint state feedback</li>
<li>Validate PID parameters</li>
</ol>
<pre><code class="language-python"># Control loop monitoring
class ControlMonitor(Node):
    def __init__(self):
        super().__init__(&#x27;control_monitor&#x27;)
        self.last_control_time = self.get_clock().now()

    def control_callback(self, msg):
        current_time = self.get_clock().now()
        dt = (current_time - self.last_control_time).nanoseconds / 1e9
        self.last_control_time = current_time

        if dt &gt; 0.1:  # Control loop should be faster than 10Hz
            self.get_logger().warn(f&#x27;Control loop period: {dt}s&#x27;)
</code></pre>
<h2 id="simulation-specific-troubleshooting">Simulation-Specific Troubleshooting</h2>
<h3 id="gazebo-issues">Gazebo Issues</h3>
<p><strong>Problem</strong>: Robot falls through ground or behaves unrealistically.</p>
<p><strong>Solutions</strong>:</p>
<ol>
<li><strong>Check URDF</strong>: Verify mass, inertia, and collision properties</li>
<li><strong>Physics parameters</strong>: Adjust update rate and solver settings</li>
<li><strong>Joint limits</strong>: Ensure proper joint limits and dynamics</li>
</ol>
<pre><code class="language-xml">&lt;!-- In URDF, ensure proper physical properties --&gt;
&lt;link name=&quot;link_name&quot;&gt;
  &lt;inertial&gt;
    &lt;mass value=&quot;1.0&quot;/&gt;  &lt;!-- Proper mass value --&gt;
    &lt;inertia ixx=&quot;0.01&quot; ixy=&quot;0&quot; ixz=&quot;0&quot; iyy=&quot;0.01&quot; iyz=&quot;0&quot; izz=&quot;0.01&quot;/&gt;  &lt;!-- Proper inertia --&gt;
  &lt;/inertial&gt;
  &lt;visual&gt;
    &lt;!-- Visual properties --&gt;
  &lt;/visual&gt;
  &lt;collision&gt;
    &lt;!-- Collision properties --&gt;
  &lt;/collision&gt;
&lt;/link&gt;
</code></pre>
<p><strong>Gazebo launch debugging</strong>:</p>
<pre><code class="language-bash"># Launch with verbose output
gazebo --verbose
# Launch with GUI
gazebo --gui
# Check model database
ls ~/.gazebo/models
</code></pre>
<h3 id="isaac-sim-issues">Isaac Sim Issues</h3>
<p><strong>Problem</strong>: Isaac Sim crashes or doesn&#x27;t display properly.</p>
<p><strong>Solutions</strong>:</p>
<ol>
<li><strong>GPU requirements</strong>: Ensure CUDA and GPU compatibility</li>
<li><strong>X11 forwarding</strong>: Check display settings for Docker containers</li>
<li><strong>Memory limits</strong>: Increase shared memory: <code>sudo mount -o remount,size=8G /dev/shm</code></li>
</ol>
<h2 id="ros-2-specific-troubleshooting">ROS 2 Specific Troubleshooting</h2>
<h3 id="lifecycle-node-issues">Lifecycle Node Issues</h3>
<p><strong>Problem</strong>: Lifecycle nodes don&#x27;t transition properly.</p>
<p><strong>Diagnosis</strong>:</p>
<pre><code class="language-bash"># Check lifecycle state
ros2 lifecycle list &lt;node_name&gt;
# Transition manually
ros2 lifecycle set &lt;node_name&gt; configure
ros2 lifecycle set &lt;node_name&gt; activate
</code></pre>
<h3 id="parameter-issues">Parameter Issues</h3>
<p><strong>Problem</strong>: Parameters don&#x27;t update or are incorrect.</p>
<p><strong>Solutions</strong>:</p>
<pre><code class="language-bash"># List parameters
ros2 param list &lt;node_name&gt;
# Get specific parameter
ros2 param get &lt;node_name&gt; param_name
# Set parameter
ros2 param set &lt;node_name&gt; param_name value
# Load from file
ros2 param load &lt;node_name&gt; params.yaml
</code></pre>
<h3 id="action-server-issues">Action Server Issues</h3>
<p><strong>Problem</strong>: Action servers don&#x27;t respond or goals are rejected.</p>
<p><strong>Diagnosis</strong>:</p>
<pre><code class="language-bash"># Check action servers
ros2 action list
# Check action types
ros2 action info /action_name
# Send test goal
ros2 action send_goal /action_name action_type &quot;goal_data&quot;
</code></pre>
<h2 id="hardware-troubleshooting">Hardware Troubleshooting</h2>
<h3 id="sensor-calibration">Sensor Calibration</h3>
<p><strong>Camera Calibration</strong>:</p>
<pre><code class="language-bash"># For monocular camera
ros2 run camera_calibration cameracalibrator --size 8x6 --square 0.108 image:=/camera/image_raw camera:=/camera
# For stereo camera
ros2 run camera_calibration stereo_image_proc --approximate-time 0.1 left/image:=/left/image_raw right/image:=/right/image_raw left/camera_info:=/left/camera_info right/camera_info:=/right/camera_info
</code></pre>
<h3 id="imu-issues">IMU Issues</h3>
<p><strong>Problem</strong>: IMU data is noisy or biased.</p>
<p><strong>Solutions</strong>:</p>
<ol>
<li><strong>Calibration</strong>: Perform IMU calibration procedures</li>
<li><strong>Filtering</strong>: Apply appropriate filtering (complementary, Kalman)</li>
<li><strong>Mounting</strong>: Ensure secure and proper mounting</li>
</ol>
<h3 id="joint-encoder-issues">Joint Encoder Issues</h3>
<p><strong>Problem</strong>: Joint positions are incorrect or noisy.</p>
<p><strong>Diagnosis</strong>:</p>
<pre><code class="language-bash"># Monitor joint states
ros2 topic echo /joint_states
# Check for missing or noisy joints
# Verify joint limits and ranges
</code></pre>
<h2 id="performance-troubleshooting">Performance Troubleshooting</h2>
<h3 id="high-cpu-usage">High CPU Usage</h3>
<p><strong>Diagnosis</strong>:</p>
<ol>
<li>
<p>Identify high-usage processes:</p>
<pre><code class="language-bash">htop
# Look for ROS 2 processes using high CPU
</code></pre>
</li>
<li>
<p>Check message rates:</p>
<pre><code class="language-bash">ros2 topic hz /topic_name
# High frequency topics can cause CPU issues
</code></pre>
</li>
</ol>
<p><strong>Solutions</strong>:</p>
<ol>
<li>Reduce message rates where possible</li>
<li>Use efficient data structures</li>
<li>Implement proper throttling</li>
<li>Optimize algorithms</li>
</ol>
<h3 id="memory-issues">Memory Issues</h3>
<p><strong>Diagnosis</strong>:</p>
<pre><code class="language-bash"># Monitor memory usage
free -h
# Check specific ROS 2 processes
ps aux --sort=-%mem | grep ros2
</code></pre>
<p><strong>Solutions</strong>:</p>
<ol>
<li>Implement proper cleanup in destructors</li>
<li>Use memory pools for frequently allocated objects</li>
<li>Monitor for memory leaks using tools like Valgrind</li>
<li>Optimize data structures and message sizes</li>
</ol>
<h2 id="debugging-tools-and-techniques">Debugging Tools and Techniques</h2>
<h3 id="custom-debug-nodes">Custom Debug Nodes</h3>
<pre><code class="language-python"># Create debugging utilities
import rclpy
from rclpy.node import Node
from std_msgs.msg import String
from sensor_msgs.msg import JointState
from geometry_msgs.msg import Twist

class SystemDebugger(Node):
    def __init__(self):
        super().__init__(&#x27;system_debugger&#x27;)

        # Create subscribers for all important topics
        self.joint_sub = self.create_subscription(JointState, &#x27;/joint_states&#x27;, self.joint_callback, 10)
        self.cmd_vel_sub = self.create_subscription(Twist, &#x27;/cmd_vel&#x27;, self.cmd_vel_callback, 10)
        self.status_pub = self.create_publisher(String, &#x27;/debug_status&#x27;, 10)

        # Timer for system health checks
        self.health_timer = self.create_timer(1.0, self.health_check)

    def joint_callback(self, msg):
        # Check for joint issues
        for i, name in enumerate(msg.name):
            position = msg.position[i] if i &lt; len(msg.position) else 0
            velocity = msg.velocity[i] if i &lt; len(msg.velocity) else 0
            effort = msg.effort[i] if i &lt; len(msg.effort) else 0

            # Check for unusual values
            if abs(position) &gt; 100:  # Likely an error
                self.get_logger().error(f&#x27;Unusual joint position for {name}: {position}&#x27;)

    def cmd_vel_callback(self, msg):
        # Monitor command velocity
        if abs(msg.linear.x) &gt; 2.0:  # Check for excessive velocity
            self.get_logger().warn(f&#x27;High linear velocity commanded: {msg.linear.x}&#x27;)

    def health_check(self):
        # Overall system health check
        status_msg = String()
        status_msg.data = &#x27;System operational&#x27;
        self.status_pub.publish(status_msg)
</code></pre>
<h3 id="logging-best-practices">Logging Best Practices</h3>
<pre><code class="language-python">import rclpy
from rclpy.node import Node
import logging

class WellLoggedNode(Node):
    def __init__(self):
        super().__init__(&#x27;well_logged_node&#x27;)

        # Set up different logging levels
        self.get_logger().set_level(logging.DEBUG)

        # Log initialization
        self.get_logger().info(&#x27;Node initialized successfully&#x27;)
        self.get_logger().debug(&#x27;Debug information for development&#x27;)

    def critical_operation(self):
        try:
            # Log important operations
            self.get_logger().info(&#x27;Starting critical operation&#x27;)

            # Perform operation
            result = self.perform_operation()

            self.get_logger().info(&#x27;Critical operation completed successfully&#x27;)
            return result

        except Exception as e:
            # Always log errors with context
            self.get_logger().error(f&#x27;Critical operation failed: {str(e)}&#x27;)
            self.get_logger().error(f&#x27;Error type: {type(e).__name__}&#x27;)
            return None
</code></pre>
<h2 id="preventive-maintenance">Preventive Maintenance</h2>
<h3 id="regular-system-checks">Regular System Checks</h3>
<p>Create automated system health checks:</p>
<pre><code class="language-bash">#!/bin/bash
# system_health_check.sh

echo &quot;=== System Health Check ===&quot;
echo &quot;Date: $(date)&quot;
echo &quot;Uptime: $(uptime)&quot;
echo &quot;Load Average: $(uptime | awk -F&#x27;load average:&#x27; &#x27;{print $2}&#x27;)&quot;

# Check ROS 2
echo -e &quot;\nROS 2 Status:&quot;
if pgrep -f &quot;ros2&quot; &gt; /dev/null; then
    echo &quot;ROS 2 processes: $(pgrep -f ros2 | wc -l)&quot;
else
    echo &quot;No ROS 2 processes running&quot;
fi

# Check disk space
echo -e &quot;\nDisk Usage:&quot;
df -h | grep -E &#x27;^(Filesystem|/dev)&#x27;

# Check memory
echo -e &quot;\nMemory Usage:&quot;
free -h

echo -e &quot;\nCheck complete.&quot;
</code></pre>
<h3 id="monitoring-scripts">Monitoring Scripts</h3>
<pre><code class="language-python">#!/usr/bin/env python3
# health_monitor.py
import rclpy
from rclpy.node import Node
from std_msgs.msg import String
import psutil
import time

class HealthMonitor(Node):
    def __init__(self):
        super().__init__(&#x27;health_monitor&#x27;)

        self.status_pub = self.create_publisher(String, &#x27;/system_status&#x27;, 10)
        self.timer = self.create_timer(5.0, self.check_health)

    def check_health(self):
        status_msg = String()

        # Check system resources
        cpu_percent = psutil.cpu_percent()
        memory_percent = psutil.virtual_memory().percent
        disk_percent = psutil.disk_usage(&#x27;/&#x27;).percent

        status = f&quot;CPU: {cpu_percent}%, Memory: {memory_percent}%, Disk: {disk_percent}%&quot;

        # Check for issues
        issues = []
        if cpu_percent &gt; 80:
            issues.append(f&quot;High CPU usage: {cpu_percent}%&quot;)
        if memory_percent &gt; 85:
            issues.append(f&quot;High memory usage: {memory_percent}%&quot;)
        if disk_percent &gt; 90:
            issues.append(f&quot;Low disk space: {disk_percent}% used&quot;)

        if issues:
            status += f&quot; [ISSUES: {&#x27;, &#x27;.join(issues)}]&quot;
            self.get_logger().warn(f&quot;System issues detected: {&#x27;, &#x27;.join(issues)}&quot;)
        else:
            self.get_logger().info(&quot;System health: All good&quot;)

        status_msg.data = status
        self.status_pub.publish(status_msg)

def main(args=None):
    rclpy.init(args=args)
    monitor = HealthMonitor()

    try:
        rclpy.spin(monitor)
    except KeyboardInterrupt:
        pass
    finally:
        monitor.destroy_node()
        rclpy.shutdown()

if __name__ == &#x27;__main__&#x27;:
    main()
</code></pre>
<h2 id="troubleshooting-checklist">Troubleshooting Checklist</h2>
<h3 id="before-deployment">Before Deployment</h3>
<ul class="contains-task-list">
<li class="task-list-item"><input type="checkbox" disabled=""> <!-- -->All nodes start without errors</li>
<li class="task-list-item"><input type="checkbox" disabled=""> <!-- -->TF tree is complete and correct</li>
<li class="task-list-item"><input type="checkbox" disabled=""> <!-- -->Sensor data is being published and is valid</li>
<li class="task-list-item"><input type="checkbox" disabled=""> <!-- -->Communication between nodes works properly</li>
<li class="task-list-item"><input type="checkbox" disabled=""> <!-- -->Parameters are set correctly</li>
<li class="task-list-item"><input type="checkbox" disabled=""> <!-- -->Safety limits are configured</li>
<li class="task-list-item"><input type="checkbox" disabled=""> <!-- -->Emergency stop functions properly</li>
</ul>
<h3 id="during-operation">During Operation</h3>
<ul class="contains-task-list">
<li class="task-list-item"><input type="checkbox" disabled=""> <!-- -->Monitor system resource usage</li>
<li class="task-list-item"><input type="checkbox" disabled=""> <!-- -->Check for error messages in logs</li>
<li class="task-list-item"><input type="checkbox" disabled=""> <!-- -->Verify sensor data quality</li>
<li class="task-list-item"><input type="checkbox" disabled=""> <!-- -->Monitor robot behavior for anomalies</li>
<li class="task-list-item"><input type="checkbox" disabled=""> <!-- -->Check communication health</li>
<li class="task-list-item"><input type="checkbox" disabled=""> <!-- -->Verify safety systems are active</li>
</ul>
<h3 id="post-operation">Post-Operation</h3>
<ul class="contains-task-list">
<li class="task-list-item"><input type="checkbox" disabled=""> <!-- -->Review logs for any issues</li>
<li class="task-list-item"><input type="checkbox" disabled=""> <!-- -->Check for memory leaks or resource issues</li>
<li class="task-list-item"><input type="checkbox" disabled=""> <!-- -->Update calibration if needed</li>
<li class="task-list-item"><input type="checkbox" disabled=""> <!-- -->Document any issues encountered</li>
<li class="task-list-item"><input type="checkbox" disabled=""> <!-- -->Plan improvements for next run</li>
</ul>
<h2 id="getting-help">Getting Help</h2>
<h3 id="when-to-seek-help">When to Seek Help</h3>
<ul>
<li>Issues persist after systematic troubleshooting</li>
<li>Problems affect safety systems</li>
<li>Unknown error messages appear</li>
<li>Performance is significantly below expectations</li>
<li>Integration issues between components</li>
</ul>
<h3 id="resources">Resources</h3>
<ol>
<li><strong>ROS 2 Documentation</strong>: <a href="https://docs.ros.org/">https://docs.ros.org/</a></li>
<li><strong>ROS Answers</strong>: <a href="https://answers.ros.org/">https://answers.ros.org/</a></li>
<li><strong>GitHub Issues</strong>: Check package repositories</li>
<li><strong>Community Forums</strong>: Discourse, Reddit ROS communities</li>
<li><strong>Company/Institution Support</strong>: Internal documentation and experts</li>
</ol>
<h3 id="providing-good-bug-reports">Providing Good Bug Reports</h3>
<p>When seeking help, provide:</p>
<ul>
<li><strong>System information</strong>: ROS 2 version, OS, hardware</li>
<li><strong>Steps to reproduce</strong>: Clear sequence of actions</li>
<li><strong>Expected vs. actual</strong>: What should happen vs. what happens</li>
<li><strong>Error messages</strong>: Complete error output</li>
<li><strong>Configuration files</strong>: Relevant parameter files</li>
<li><strong>Log files</strong>: Recent log entries</li>
<li><strong>Minimal example</strong>: Simplified case that reproduces the issue</li>
</ul>
<h2 id="next-steps">Next Steps</h2>
<p>This completes the Capstone Project module. You now have comprehensive knowledge of integration, testing, and troubleshooting for humanoid robotics systems. Apply these concepts in your final project implementation and validation.</p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/ArifAbbas11/humanoid-robotics-book/tree/main/docs/capstone/troubleshooting.md" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_vwxv"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/humanoid-robotics-book/capstone/testing-guide"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Testing Guide</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#overview" class="table-of-contents__link toc-highlight">Overview</a></li><li><a href="#systematic-troubleshooting-approach" class="table-of-contents__link toc-highlight">Systematic Troubleshooting Approach</a><ul><li><a href="#the-troubleshooting-process" class="table-of-contents__link toc-highlight">The Troubleshooting Process</a></li><li><a href="#information-gathering" class="table-of-contents__link toc-highlight">Information Gathering</a></li></ul></li><li><a href="#common-troubleshooting-scenarios" class="table-of-contents__link toc-highlight">Common Troubleshooting Scenarios</a><ul><li><a href="#communication-issues" class="table-of-contents__link toc-highlight">Communication Issues</a></li><li><a href="#sensor-data-issues" class="table-of-contents__link toc-highlight">Sensor Data Issues</a></li><li><a href="#navigation-issues" class="table-of-contents__link toc-highlight">Navigation Issues</a></li><li><a href="#perception-issues" class="table-of-contents__link toc-highlight">Perception Issues</a></li></ul></li><li><a href="#advanced-troubleshooting-techniques" class="table-of-contents__link toc-highlight">Advanced Troubleshooting Techniques</a><ul><li><a href="#debugging-with-gdb" class="table-of-contents__link toc-highlight">Debugging with GDB</a></li><li><a href="#profiling-performance-issues" class="table-of-contents__link toc-highlight">Profiling Performance Issues</a></li><li><a href="#memory-leak-detection" class="table-of-contents__link toc-highlight">Memory Leak Detection</a></li></ul></li><li><a href="#component-specific-troubleshooting" class="table-of-contents__link toc-highlight">Component-Specific Troubleshooting</a><ul><li><a href="#navigation-stack-issues" class="table-of-contents__link toc-highlight">Navigation Stack Issues</a></li><li><a href="#vision-system-issues" class="table-of-contents__link toc-highlight">Vision System Issues</a></li><li><a href="#control-system-issues" class="table-of-contents__link toc-highlight">Control System Issues</a></li></ul></li><li><a href="#simulation-specific-troubleshooting" class="table-of-contents__link toc-highlight">Simulation-Specific Troubleshooting</a><ul><li><a href="#gazebo-issues" class="table-of-contents__link toc-highlight">Gazebo Issues</a></li><li><a href="#isaac-sim-issues" class="table-of-contents__link toc-highlight">Isaac Sim Issues</a></li></ul></li><li><a href="#ros-2-specific-troubleshooting" class="table-of-contents__link toc-highlight">ROS 2 Specific Troubleshooting</a><ul><li><a href="#lifecycle-node-issues" class="table-of-contents__link toc-highlight">Lifecycle Node Issues</a></li><li><a href="#parameter-issues" class="table-of-contents__link toc-highlight">Parameter Issues</a></li><li><a href="#action-server-issues" class="table-of-contents__link toc-highlight">Action Server Issues</a></li></ul></li><li><a href="#hardware-troubleshooting" class="table-of-contents__link toc-highlight">Hardware Troubleshooting</a><ul><li><a href="#sensor-calibration" class="table-of-contents__link toc-highlight">Sensor Calibration</a></li><li><a href="#imu-issues" class="table-of-contents__link toc-highlight">IMU Issues</a></li><li><a href="#joint-encoder-issues" class="table-of-contents__link toc-highlight">Joint Encoder Issues</a></li></ul></li><li><a href="#performance-troubleshooting" class="table-of-contents__link toc-highlight">Performance Troubleshooting</a><ul><li><a href="#high-cpu-usage" class="table-of-contents__link toc-highlight">High CPU Usage</a></li><li><a href="#memory-issues" class="table-of-contents__link toc-highlight">Memory Issues</a></li></ul></li><li><a href="#debugging-tools-and-techniques" class="table-of-contents__link toc-highlight">Debugging Tools and Techniques</a><ul><li><a href="#custom-debug-nodes" class="table-of-contents__link toc-highlight">Custom Debug Nodes</a></li><li><a href="#logging-best-practices" class="table-of-contents__link toc-highlight">Logging Best Practices</a></li></ul></li><li><a href="#preventive-maintenance" class="table-of-contents__link toc-highlight">Preventive Maintenance</a><ul><li><a href="#regular-system-checks" class="table-of-contents__link toc-highlight">Regular System Checks</a></li><li><a href="#monitoring-scripts" class="table-of-contents__link toc-highlight">Monitoring Scripts</a></li></ul></li><li><a href="#troubleshooting-checklist" class="table-of-contents__link toc-highlight">Troubleshooting Checklist</a><ul><li><a href="#before-deployment" class="table-of-contents__link toc-highlight">Before Deployment</a></li><li><a href="#during-operation" class="table-of-contents__link toc-highlight">During Operation</a></li><li><a href="#post-operation" class="table-of-contents__link toc-highlight">Post-Operation</a></li></ul></li><li><a href="#getting-help" class="table-of-contents__link toc-highlight">Getting Help</a><ul><li><a href="#when-to-seek-help" class="table-of-contents__link toc-highlight">When to Seek Help</a></li><li><a href="#resources" class="table-of-contents__link toc-highlight">Resources</a></li><li><a href="#providing-good-bug-reports" class="table-of-contents__link toc-highlight">Providing Good Bug Reports</a></li></ul></li><li><a href="#next-steps" class="table-of-contents__link toc-highlight">Next Steps</a></li></ul></div></div></div></div></main></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Chapters</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/humanoid-robotics-book/ros-fundamentals/intro">ROS 2 Fundamentals</a></li><li class="footer__item"><a class="footer__link-item" href="/humanoid-robotics-book/simulation/intro">Simulation</a></li><li class="footer__item"><a class="footer__link-item" href="/humanoid-robotics-book/ai-navigation/intro">AI Navigation</a></li><li class="footer__item"><a class="footer__link-item" href="/humanoid-robotics-book/vla-integration/intro">VLA Integration</a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://github.com/ArifAbbas11/humanoid-robotics-book" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2025 Physical AI & Humanoid Robotics Book. Built with Docusaurus.</div></div></div></footer></div>
</body>
</html>