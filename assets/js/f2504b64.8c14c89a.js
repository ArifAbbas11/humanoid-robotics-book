"use strict";(globalThis.webpackChunkhumanoid_robotics_book=globalThis.webpackChunkhumanoid_robotics_book||[]).push([[9812],{6496:(e,s,n)=>{n.r(s),n.d(s,{assets:()=>a,contentTitle:()=>l,default:()=>h,frontMatter:()=>o,metadata:()=>t,toc:()=>c});var r=n(4848),i=n(8453);const o={},l="Troubleshooting",t={id:"capstone/troubleshooting",title:"Troubleshooting",description:"Overview",source:"@site/docs/capstone/troubleshooting.md",sourceDirName:"capstone",slug:"/capstone/troubleshooting",permalink:"/humanoid-robotics-book/capstone/troubleshooting",draft:!1,unlisted:!1,editUrl:"https://github.com/ArifAbbas11/humanoid-robotics-book/tree/main/docs/capstone/troubleshooting.md",tags:[],version:"current",frontMatter:{},sidebar:"bookSidebar",previous:{title:"Testing Guide",permalink:"/humanoid-robotics-book/capstone/testing-guide"}},a={},c=[{value:"Overview",id:"overview",level:2},{value:"Systematic Troubleshooting Approach",id:"systematic-troubleshooting-approach",level:2},{value:"The Troubleshooting Process",id:"the-troubleshooting-process",level:3},{value:"Information Gathering",id:"information-gathering",level:3},{value:"Log Analysis",id:"log-analysis",level:4},{value:"System Monitoring",id:"system-monitoring",level:4},{value:"Common Troubleshooting Scenarios",id:"common-troubleshooting-scenarios",level:2},{value:"Communication Issues",id:"communication-issues",level:3},{value:"Sensor Data Issues",id:"sensor-data-issues",level:3},{value:"Navigation Issues",id:"navigation-issues",level:3},{value:"Perception Issues",id:"perception-issues",level:3},{value:"Advanced Troubleshooting Techniques",id:"advanced-troubleshooting-techniques",level:2},{value:"Debugging with GDB",id:"debugging-with-gdb",level:3},{value:"Profiling Performance Issues",id:"profiling-performance-issues",level:3},{value:"Memory Leak Detection",id:"memory-leak-detection",level:3},{value:"Component-Specific Troubleshooting",id:"component-specific-troubleshooting",level:2},{value:"Navigation Stack Issues",id:"navigation-stack-issues",level:3},{value:"Vision System Issues",id:"vision-system-issues",level:3},{value:"Control System Issues",id:"control-system-issues",level:3},{value:"Simulation-Specific Troubleshooting",id:"simulation-specific-troubleshooting",level:2},{value:"Gazebo Issues",id:"gazebo-issues",level:3},{value:"Isaac Sim Issues",id:"isaac-sim-issues",level:3},{value:"ROS 2 Specific Troubleshooting",id:"ros-2-specific-troubleshooting",level:2},{value:"Lifecycle Node Issues",id:"lifecycle-node-issues",level:3},{value:"Parameter Issues",id:"parameter-issues",level:3},{value:"Action Server Issues",id:"action-server-issues",level:3},{value:"Hardware Troubleshooting",id:"hardware-troubleshooting",level:2},{value:"Sensor Calibration",id:"sensor-calibration",level:3},{value:"IMU Issues",id:"imu-issues",level:3},{value:"Joint Encoder Issues",id:"joint-encoder-issues",level:3},{value:"Performance Troubleshooting",id:"performance-troubleshooting",level:2},{value:"High CPU Usage",id:"high-cpu-usage",level:3},{value:"Memory Issues",id:"memory-issues",level:3},{value:"Debugging Tools and Techniques",id:"debugging-tools-and-techniques",level:2},{value:"Custom Debug Nodes",id:"custom-debug-nodes",level:3},{value:"Logging Best Practices",id:"logging-best-practices",level:3},{value:"Preventive Maintenance",id:"preventive-maintenance",level:2},{value:"Regular System Checks",id:"regular-system-checks",level:3},{value:"Monitoring Scripts",id:"monitoring-scripts",level:3},{value:"Troubleshooting Checklist",id:"troubleshooting-checklist",level:2},{value:"Before Deployment",id:"before-deployment",level:3},{value:"During Operation",id:"during-operation",level:3},{value:"Post-Operation",id:"post-operation",level:3},{value:"Getting Help",id:"getting-help",level:2},{value:"When to Seek Help",id:"when-to-seek-help",level:3},{value:"Resources",id:"resources",level:3},{value:"Providing Good Bug Reports",id:"providing-good-bug-reports",level:3},{value:"Next Steps",id:"next-steps",level:2}];function d(e){const s={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",input:"input",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,i.RP)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(s.h1,{id:"troubleshooting",children:"Troubleshooting"}),"\n",(0,r.jsx)(s.h2,{id:"overview",children:"Overview"}),"\n",(0,r.jsx)(s.p,{children:"Troubleshooting is an essential skill for humanoid robotics development. This guide provides systematic approaches to identify, diagnose, and resolve issues that arise in complex integrated systems. Effective troubleshooting requires understanding both individual components and their interactions."}),"\n",(0,r.jsx)(s.h2,{id:"systematic-troubleshooting-approach",children:"Systematic Troubleshooting Approach"}),"\n",(0,r.jsx)(s.h3,{id:"the-troubleshooting-process",children:"The Troubleshooting Process"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{children:"1. Problem Identification \u2192 2. Information Gathering \u2192 3. Hypothesis Formation\r\n         \u2193\r\n4. Testing Hypotheses \u2192 5. Solution Implementation \u2192 6. Verification\n"})}),"\n",(0,r.jsx)(s.h3,{id:"information-gathering",children:"Information Gathering"}),"\n",(0,r.jsx)(s.h4,{id:"log-analysis",children:"Log Analysis"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-bash",children:"# Essential ROS 2 troubleshooting commands\r\nros2 topic list                    # List all active topics\r\nros2 topic info /topic_name        # Get information about a topic\r\nros2 topic echo /topic_name        # Monitor topic messages\r\nros2 service list                  # List all services\r\nros2 action list                   # List all actions\r\nros2 node list                     # List all nodes\r\nros2 run rqt_graph rqt_graph       # Visualize node connections\n"})}),"\n",(0,r.jsx)(s.h4,{id:"system-monitoring",children:"System Monitoring"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-bash",children:"# Monitor system resources\r\nhtop                                # CPU and memory usage\r\nnvidia-smi                         # GPU usage (if applicable)\r\niotop                              # I/O usage\r\niftop                              # Network usage\r\n\r\n# ROS 2 specific monitoring\r\nros2 run tf2_tools view_frames     # Check TF tree\r\nros2 param list <node_name>        # Check node parameters\r\nros2 lifecycle list <node_name>    # Check lifecycle nodes\n"})}),"\n",(0,r.jsx)(s.h2,{id:"common-troubleshooting-scenarios",children:"Common Troubleshooting Scenarios"}),"\n",(0,r.jsx)(s.h3,{id:"communication-issues",children:"Communication Issues"}),"\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:"Problem"}),": Nodes cannot communicate with each other."]}),"\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:"Diagnosis"}),":"]}),"\n",(0,r.jsxs)(s.ol,{children:["\n",(0,r.jsxs)(s.li,{children:["\n",(0,r.jsx)(s.p,{children:"Check if nodes are running:"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-bash",children:"ros2 node list\r\nros2 lifecycle list <node_name>  # for lifecycle nodes\n"})}),"\n"]}),"\n",(0,r.jsxs)(s.li,{children:["\n",(0,r.jsx)(s.p,{children:"Verify topic connections:"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-bash",children:"ros2 topic info /topic_name\r\nros2 topic hz /topic_name        # Check message rate\n"})}),"\n"]}),"\n",(0,r.jsxs)(s.li,{children:["\n",(0,r.jsx)(s.p,{children:"Check network configuration:"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-bash",children:"echo $ROS_DOMAIN_ID\r\necho $ROS_LOCALHOST_ONLY\r\n# Ensure both machines have same domain ID if on same network\n"})}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:"Solutions"}),":"]}),"\n",(0,r.jsxs)(s.ol,{children:["\n",(0,r.jsx)(s.li,{children:"Verify correct topic names and message types"}),"\n",(0,r.jsx)(s.li,{children:"Check QoS profile compatibility"}),"\n",(0,r.jsx)(s.li,{children:"Ensure proper network configuration for multi-machine setups"}),"\n",(0,r.jsx)(s.li,{children:"Check firewall settings for ROS 2 ports (typically UDP/TCP 11000+)"}),"\n"]}),"\n",(0,r.jsx)(s.h3,{id:"sensor-data-issues",children:"Sensor Data Issues"}),"\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:"Problem"}),": Sensor data is not being published or is incorrect."]}),"\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:"Diagnosis"}),":"]}),"\n",(0,r.jsxs)(s.ol,{children:["\n",(0,r.jsxs)(s.li,{children:["\n",(0,r.jsx)(s.p,{children:"Check sensor hardware:"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-bash",children:"lsusb                            # List USB devices\r\nlspci | grep -i nvidia          # Check GPU\r\nls /dev | grep camera           # Check camera devices\n"})}),"\n"]}),"\n",(0,r.jsxs)(s.li,{children:["\n",(0,r.jsx)(s.p,{children:"Monitor sensor topics:"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-bash",children:"ros2 topic echo /sensor_topic\r\nros2 run image_view image_view _image:=/camera/image_raw\n"})}),"\n"]}),"\n",(0,r.jsxs)(s.li,{children:["\n",(0,r.jsx)(s.p,{children:"Check sensor drivers:"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-bash",children:"ros2 run rqt_reconfigure rqt_reconfigure\r\nros2 param list <sensor_node_name>\n"})}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:"Solutions"}),":"]}),"\n",(0,r.jsxs)(s.ol,{children:["\n",(0,r.jsx)(s.li,{children:"Verify sensor calibration files"}),"\n",(0,r.jsxs)(s.li,{children:["Check camera permissions: ",(0,r.jsx)(s.code,{children:"sudo chmod 666 /dev/video*"})]}),"\n",(0,r.jsx)(s.li,{children:"Ensure proper power and data connections"}),"\n",(0,r.jsx)(s.li,{children:"Update sensor drivers if necessary"}),"\n"]}),"\n",(0,r.jsx)(s.h3,{id:"navigation-issues",children:"Navigation Issues"}),"\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:"Problem"}),": Robot fails to navigate or plans invalid paths."]}),"\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:"Diagnosis"}),":"]}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-python",children:"# Debug navigation with this approach\r\nimport rclpy\r\nfrom rclpy.node import Node\r\nfrom nav_msgs.msg import Path, OccupancyGrid\r\nfrom geometry_msgs.msg import PoseStamped\r\n\r\nclass NavigationDebugger(Node):\r\n    def __init__(self):\r\n        super().__init__('navigation_debugger')\r\n\r\n        # Subscribe to navigation topics\r\n        self.path_sub = self.create_subscription(Path, '/plan', self.path_callback, 10)\r\n        self.map_sub = self.create_subscription(OccupancyGrid, '/map', self.map_callback, 10)\r\n        self.goal_sub = self.create_subscription(PoseStamped, '/goal_pose', self.goal_callback, 10)\r\n\r\n    def path_callback(self, msg):\r\n        self.get_logger().info(f'Path received with {len(msg.poses)} waypoints')\r\n        if len(msg.poses) == 0:\r\n            self.get_logger().error('Received empty path!')\r\n\r\n    def map_callback(self, msg):\r\n        self.get_logger().info(f'Map: {msg.info.width}x{msg.info.height}, resolution: {msg.info.resolution}')\r\n\r\n    def goal_callback(self, msg):\r\n        self.get_logger().info(f'Goal received: ({msg.pose.position.x}, {msg.pose.position.y})')\n"})}),"\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:"Solutions"}),":"]}),"\n",(0,r.jsxs)(s.ol,{children:["\n",(0,r.jsx)(s.li,{children:"Verify costmap parameters and inflation settings"}),"\n",(0,r.jsx)(s.li,{children:"Check TF tree for proper transforms"}),"\n",(0,r.jsx)(s.li,{children:"Ensure proper map resolution and inflation"}),"\n",(0,r.jsx)(s.li,{children:"Validate robot footprint configuration"}),"\n"]}),"\n",(0,r.jsx)(s.h3,{id:"perception-issues",children:"Perception Issues"}),"\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:"Problem"}),": Object detection or recognition fails."]}),"\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:"Diagnosis"}),":"]}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-bash",children:"# Check vision pipeline\r\nros2 run image_view image_view _image:=/camera/image_raw\r\nros2 topic echo /object_detections --field results\r\nros2 run rqt_image_view rqt_image_view\n"})}),"\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:"Solutions"}),":"]}),"\n",(0,r.jsxs)(s.ol,{children:["\n",(0,r.jsx)(s.li,{children:"Verify camera calibration"}),"\n",(0,r.jsx)(s.li,{children:"Check lighting conditions"}),"\n",(0,r.jsx)(s.li,{children:"Adjust detection thresholds"}),"\n",(0,r.jsx)(s.li,{children:"Ensure proper image encoding and format"}),"\n"]}),"\n",(0,r.jsx)(s.h2,{id:"advanced-troubleshooting-techniques",children:"Advanced Troubleshooting Techniques"}),"\n",(0,r.jsx)(s.h3,{id:"debugging-with-gdb",children:"Debugging with GDB"}),"\n",(0,r.jsx)(s.p,{children:"For C++ nodes that crash:"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-bash",children:"# Run node with GDB\r\ngdb --args ros2 run package_name node_name\r\n(gdb) run\r\n# When crash occurs:\r\n(gdb) bt                    # Show backtrace\r\n(gdb) info registers      # Show register state\r\n(gdb) info locals         # Show local variables\n"})}),"\n",(0,r.jsx)(s.h3,{id:"profiling-performance-issues",children:"Profiling Performance Issues"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-python",children:"# Profile Python nodes\r\nimport cProfile\r\nimport pstats\r\n\r\ndef profile_node():\r\n    pr = cProfile.Profile()\r\n    pr.enable()\r\n\r\n    # Run your node code here\r\n    your_node_logic()\r\n\r\n    pr.disable()\r\n    stats = pstats.Stats(pr)\r\n    stats.sort_stats('cumulative')\r\n    stats.print_stats(10)  # Top 10 time-consuming functions\n"})}),"\n",(0,r.jsx)(s.h3,{id:"memory-leak-detection",children:"Memory Leak Detection"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-bash",children:"# Monitor memory usage\r\nwatch -n 1 'ps aux | grep ros2'\r\n# Or use valgrind for C++ nodes\r\nvalgrind --tool=memcheck --leak-check=full ros2 run package_name node_name\n"})}),"\n",(0,r.jsx)(s.h2,{id:"component-specific-troubleshooting",children:"Component-Specific Troubleshooting"}),"\n",(0,r.jsx)(s.h3,{id:"navigation-stack-issues",children:"Navigation Stack Issues"}),"\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:"Common Problems"}),":"]}),"\n",(0,r.jsxs)(s.ol,{children:["\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Local planner fails"}),": Check ",(0,r.jsx)(s.code,{children:"local_costmap"})," inflation and update rates"]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Global planner fails"}),": Verify ",(0,r.jsx)(s.code,{children:"global_costmap"})," and map server"]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Controller fails"}),": Check ",(0,r.jsx)(s.code,{children:"controller_server"})," parameters"]}),"\n"]}),"\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:"Debug Configuration"}),":"]}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-yaml",children:'# navigation2.yaml - Debug configuration\r\nlocal_costmap:\r\n  local_costmap:\r\n    ros__parameters:\r\n      update_frequency: 5.0\r\n      publish_frequency: 2.0\r\n      global_frame: odom      # Ensure this matches your odometry frame\r\n      robot_base_frame: base_link\r\n      use_sim_time: True\r\n      rolling_window: true\r\n      width: 3\r\n      height: 3\r\n      resolution: 0.05       # Increase resolution if needed\r\n      robot_radius: 0.2      # Match your robot\'s actual radius\r\n      plugins: ["voxel_layer", "inflation_layer"]\r\n      inflation_layer:\r\n        plugin: "nav2_costmap_2d::InflationLayer"\r\n        cost_scaling_factor: 3.0\r\n        inflation_radius: 0.55\n'})}),"\n",(0,r.jsx)(s.h3,{id:"vision-system-issues",children:"Vision System Issues"}),"\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:"Problem"}),": Camera images are distorted or incorrect."]}),"\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:"Solutions"}),":"]}),"\n",(0,r.jsxs)(s.ol,{children:["\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Check calibration"}),": Verify camera intrinsic and extrinsic parameters"]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Update calibration"}),": Use ",(0,r.jsx)(s.code,{children:"camera_calibration"})," package"]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Check encoding"}),": Ensure proper image encoding (RGB8, BGR8, etc.)"]}),"\n"]}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-bash",children:"# Verify camera calibration\r\nros2 run camera_calibration_parsers parse --file camera_info.yaml\r\n# Check image format\r\nros2 topic info /camera/image_raw\n"})}),"\n",(0,r.jsx)(s.h3,{id:"control-system-issues",children:"Control System Issues"}),"\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:"Problem"}),": Robot moves erratically or doesn't respond properly."]}),"\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:"Diagnosis"}),":"]}),"\n",(0,r.jsxs)(s.ol,{children:["\n",(0,r.jsx)(s.li,{children:"Check control loop frequency"}),"\n",(0,r.jsx)(s.li,{children:"Verify joint state feedback"}),"\n",(0,r.jsx)(s.li,{children:"Validate PID parameters"}),"\n"]}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-python",children:"# Control loop monitoring\r\nclass ControlMonitor(Node):\r\n    def __init__(self):\r\n        super().__init__('control_monitor')\r\n        self.last_control_time = self.get_clock().now()\r\n\r\n    def control_callback(self, msg):\r\n        current_time = self.get_clock().now()\r\n        dt = (current_time - self.last_control_time).nanoseconds / 1e9\r\n        self.last_control_time = current_time\r\n\r\n        if dt > 0.1:  # Control loop should be faster than 10Hz\r\n            self.get_logger().warn(f'Control loop period: {dt}s')\n"})}),"\n",(0,r.jsx)(s.h2,{id:"simulation-specific-troubleshooting",children:"Simulation-Specific Troubleshooting"}),"\n",(0,r.jsx)(s.h3,{id:"gazebo-issues",children:"Gazebo Issues"}),"\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:"Problem"}),": Robot falls through ground or behaves unrealistically."]}),"\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:"Solutions"}),":"]}),"\n",(0,r.jsxs)(s.ol,{children:["\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Check URDF"}),": Verify mass, inertia, and collision properties"]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Physics parameters"}),": Adjust update rate and solver settings"]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Joint limits"}),": Ensure proper joint limits and dynamics"]}),"\n"]}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-xml",children:'\x3c!-- In URDF, ensure proper physical properties --\x3e\r\n<link name="link_name">\r\n  <inertial>\r\n    <mass value="1.0"/>  \x3c!-- Proper mass value --\x3e\r\n    <inertia ixx="0.01" ixy="0" ixz="0" iyy="0.01" iyz="0" izz="0.01"/>  \x3c!-- Proper inertia --\x3e\r\n  </inertial>\r\n  <visual>\r\n    \x3c!-- Visual properties --\x3e\r\n  </visual>\r\n  <collision>\r\n    \x3c!-- Collision properties --\x3e\r\n  </collision>\r\n</link>\n'})}),"\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:"Gazebo launch debugging"}),":"]}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-bash",children:"# Launch with verbose output\r\ngazebo --verbose\r\n# Launch with GUI\r\ngazebo --gui\r\n# Check model database\r\nls ~/.gazebo/models\n"})}),"\n",(0,r.jsx)(s.h3,{id:"isaac-sim-issues",children:"Isaac Sim Issues"}),"\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:"Problem"}),": Isaac Sim crashes or doesn't display properly."]}),"\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:"Solutions"}),":"]}),"\n",(0,r.jsxs)(s.ol,{children:["\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"GPU requirements"}),": Ensure CUDA and GPU compatibility"]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"X11 forwarding"}),": Check display settings for Docker containers"]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Memory limits"}),": Increase shared memory: ",(0,r.jsx)(s.code,{children:"sudo mount -o remount,size=8G /dev/shm"})]}),"\n"]}),"\n",(0,r.jsx)(s.h2,{id:"ros-2-specific-troubleshooting",children:"ROS 2 Specific Troubleshooting"}),"\n",(0,r.jsx)(s.h3,{id:"lifecycle-node-issues",children:"Lifecycle Node Issues"}),"\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:"Problem"}),": Lifecycle nodes don't transition properly."]}),"\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:"Diagnosis"}),":"]}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-bash",children:"# Check lifecycle state\r\nros2 lifecycle list <node_name>\r\n# Transition manually\r\nros2 lifecycle set <node_name> configure\r\nros2 lifecycle set <node_name> activate\n"})}),"\n",(0,r.jsx)(s.h3,{id:"parameter-issues",children:"Parameter Issues"}),"\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:"Problem"}),": Parameters don't update or are incorrect."]}),"\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:"Solutions"}),":"]}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-bash",children:"# List parameters\r\nros2 param list <node_name>\r\n# Get specific parameter\r\nros2 param get <node_name> param_name\r\n# Set parameter\r\nros2 param set <node_name> param_name value\r\n# Load from file\r\nros2 param load <node_name> params.yaml\n"})}),"\n",(0,r.jsx)(s.h3,{id:"action-server-issues",children:"Action Server Issues"}),"\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:"Problem"}),": Action servers don't respond or goals are rejected."]}),"\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:"Diagnosis"}),":"]}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-bash",children:'# Check action servers\r\nros2 action list\r\n# Check action types\r\nros2 action info /action_name\r\n# Send test goal\r\nros2 action send_goal /action_name action_type "goal_data"\n'})}),"\n",(0,r.jsx)(s.h2,{id:"hardware-troubleshooting",children:"Hardware Troubleshooting"}),"\n",(0,r.jsx)(s.h3,{id:"sensor-calibration",children:"Sensor Calibration"}),"\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:"Camera Calibration"}),":"]}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-bash",children:"# For monocular camera\r\nros2 run camera_calibration cameracalibrator --size 8x6 --square 0.108 image:=/camera/image_raw camera:=/camera\r\n# For stereo camera\r\nros2 run camera_calibration stereo_image_proc --approximate-time 0.1 left/image:=/left/image_raw right/image:=/right/image_raw left/camera_info:=/left/camera_info right/camera_info:=/right/camera_info\n"})}),"\n",(0,r.jsx)(s.h3,{id:"imu-issues",children:"IMU Issues"}),"\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:"Problem"}),": IMU data is noisy or biased."]}),"\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:"Solutions"}),":"]}),"\n",(0,r.jsxs)(s.ol,{children:["\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Calibration"}),": Perform IMU calibration procedures"]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Filtering"}),": Apply appropriate filtering (complementary, Kalman)"]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Mounting"}),": Ensure secure and proper mounting"]}),"\n"]}),"\n",(0,r.jsx)(s.h3,{id:"joint-encoder-issues",children:"Joint Encoder Issues"}),"\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:"Problem"}),": Joint positions are incorrect or noisy."]}),"\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:"Diagnosis"}),":"]}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-bash",children:"# Monitor joint states\r\nros2 topic echo /joint_states\r\n# Check for missing or noisy joints\r\n# Verify joint limits and ranges\n"})}),"\n",(0,r.jsx)(s.h2,{id:"performance-troubleshooting",children:"Performance Troubleshooting"}),"\n",(0,r.jsx)(s.h3,{id:"high-cpu-usage",children:"High CPU Usage"}),"\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:"Diagnosis"}),":"]}),"\n",(0,r.jsxs)(s.ol,{children:["\n",(0,r.jsxs)(s.li,{children:["\n",(0,r.jsx)(s.p,{children:"Identify high-usage processes:"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-bash",children:"htop\r\n# Look for ROS 2 processes using high CPU\n"})}),"\n"]}),"\n",(0,r.jsxs)(s.li,{children:["\n",(0,r.jsx)(s.p,{children:"Check message rates:"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-bash",children:"ros2 topic hz /topic_name\r\n# High frequency topics can cause CPU issues\n"})}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:"Solutions"}),":"]}),"\n",(0,r.jsxs)(s.ol,{children:["\n",(0,r.jsx)(s.li,{children:"Reduce message rates where possible"}),"\n",(0,r.jsx)(s.li,{children:"Use efficient data structures"}),"\n",(0,r.jsx)(s.li,{children:"Implement proper throttling"}),"\n",(0,r.jsx)(s.li,{children:"Optimize algorithms"}),"\n"]}),"\n",(0,r.jsx)(s.h3,{id:"memory-issues",children:"Memory Issues"}),"\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:"Diagnosis"}),":"]}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-bash",children:"# Monitor memory usage\r\nfree -h\r\n# Check specific ROS 2 processes\r\nps aux --sort=-%mem | grep ros2\n"})}),"\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:"Solutions"}),":"]}),"\n",(0,r.jsxs)(s.ol,{children:["\n",(0,r.jsx)(s.li,{children:"Implement proper cleanup in destructors"}),"\n",(0,r.jsx)(s.li,{children:"Use memory pools for frequently allocated objects"}),"\n",(0,r.jsx)(s.li,{children:"Monitor for memory leaks using tools like Valgrind"}),"\n",(0,r.jsx)(s.li,{children:"Optimize data structures and message sizes"}),"\n"]}),"\n",(0,r.jsx)(s.h2,{id:"debugging-tools-and-techniques",children:"Debugging Tools and Techniques"}),"\n",(0,r.jsx)(s.h3,{id:"custom-debug-nodes",children:"Custom Debug Nodes"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-python",children:"# Create debugging utilities\r\nimport rclpy\r\nfrom rclpy.node import Node\r\nfrom std_msgs.msg import String\r\nfrom sensor_msgs.msg import JointState\r\nfrom geometry_msgs.msg import Twist\r\n\r\nclass SystemDebugger(Node):\r\n    def __init__(self):\r\n        super().__init__('system_debugger')\r\n\r\n        # Create subscribers for all important topics\r\n        self.joint_sub = self.create_subscription(JointState, '/joint_states', self.joint_callback, 10)\r\n        self.cmd_vel_sub = self.create_subscription(Twist, '/cmd_vel', self.cmd_vel_callback, 10)\r\n        self.status_pub = self.create_publisher(String, '/debug_status', 10)\r\n\r\n        # Timer for system health checks\r\n        self.health_timer = self.create_timer(1.0, self.health_check)\r\n\r\n    def joint_callback(self, msg):\r\n        # Check for joint issues\r\n        for i, name in enumerate(msg.name):\r\n            position = msg.position[i] if i < len(msg.position) else 0\r\n            velocity = msg.velocity[i] if i < len(msg.velocity) else 0\r\n            effort = msg.effort[i] if i < len(msg.effort) else 0\r\n\r\n            # Check for unusual values\r\n            if abs(position) > 100:  # Likely an error\r\n                self.get_logger().error(f'Unusual joint position for {name}: {position}')\r\n\r\n    def cmd_vel_callback(self, msg):\r\n        # Monitor command velocity\r\n        if abs(msg.linear.x) > 2.0:  # Check for excessive velocity\r\n            self.get_logger().warn(f'High linear velocity commanded: {msg.linear.x}')\r\n\r\n    def health_check(self):\r\n        # Overall system health check\r\n        status_msg = String()\r\n        status_msg.data = 'System operational'\r\n        self.status_pub.publish(status_msg)\n"})}),"\n",(0,r.jsx)(s.h3,{id:"logging-best-practices",children:"Logging Best Practices"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-python",children:"import rclpy\r\nfrom rclpy.node import Node\r\nimport logging\r\n\r\nclass WellLoggedNode(Node):\r\n    def __init__(self):\r\n        super().__init__('well_logged_node')\r\n\r\n        # Set up different logging levels\r\n        self.get_logger().set_level(logging.DEBUG)\r\n\r\n        # Log initialization\r\n        self.get_logger().info('Node initialized successfully')\r\n        self.get_logger().debug('Debug information for development')\r\n\r\n    def critical_operation(self):\r\n        try:\r\n            # Log important operations\r\n            self.get_logger().info('Starting critical operation')\r\n\r\n            # Perform operation\r\n            result = self.perform_operation()\r\n\r\n            self.get_logger().info('Critical operation completed successfully')\r\n            return result\r\n\r\n        except Exception as e:\r\n            # Always log errors with context\r\n            self.get_logger().error(f'Critical operation failed: {str(e)}')\r\n            self.get_logger().error(f'Error type: {type(e).__name__}')\r\n            return None\n"})}),"\n",(0,r.jsx)(s.h2,{id:"preventive-maintenance",children:"Preventive Maintenance"}),"\n",(0,r.jsx)(s.h3,{id:"regular-system-checks",children:"Regular System Checks"}),"\n",(0,r.jsx)(s.p,{children:"Create automated system health checks:"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-bash",children:'#!/bin/bash\r\n# system_health_check.sh\r\n\r\necho "=== System Health Check ==="\r\necho "Date: $(date)"\r\necho "Uptime: $(uptime)"\r\necho "Load Average: $(uptime | awk -F\'load average:\' \'{print $2}\')"\r\n\r\n# Check ROS 2\r\necho -e "\\nROS 2 Status:"\r\nif pgrep -f "ros2" > /dev/null; then\r\n    echo "ROS 2 processes: $(pgrep -f ros2 | wc -l)"\r\nelse\r\n    echo "No ROS 2 processes running"\r\nfi\r\n\r\n# Check disk space\r\necho -e "\\nDisk Usage:"\r\ndf -h | grep -E \'^(Filesystem|/dev)\'\r\n\r\n# Check memory\r\necho -e "\\nMemory Usage:"\r\nfree -h\r\n\r\necho -e "\\nCheck complete."\n'})}),"\n",(0,r.jsx)(s.h3,{id:"monitoring-scripts",children:"Monitoring Scripts"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-python",children:'#!/usr/bin/env python3\r\n# health_monitor.py\r\nimport rclpy\r\nfrom rclpy.node import Node\r\nfrom std_msgs.msg import String\r\nimport psutil\r\nimport time\r\n\r\nclass HealthMonitor(Node):\r\n    def __init__(self):\r\n        super().__init__(\'health_monitor\')\r\n\r\n        self.status_pub = self.create_publisher(String, \'/system_status\', 10)\r\n        self.timer = self.create_timer(5.0, self.check_health)\r\n\r\n    def check_health(self):\r\n        status_msg = String()\r\n\r\n        # Check system resources\r\n        cpu_percent = psutil.cpu_percent()\r\n        memory_percent = psutil.virtual_memory().percent\r\n        disk_percent = psutil.disk_usage(\'/\').percent\r\n\r\n        status = f"CPU: {cpu_percent}%, Memory: {memory_percent}%, Disk: {disk_percent}%"\r\n\r\n        # Check for issues\r\n        issues = []\r\n        if cpu_percent > 80:\r\n            issues.append(f"High CPU usage: {cpu_percent}%")\r\n        if memory_percent > 85:\r\n            issues.append(f"High memory usage: {memory_percent}%")\r\n        if disk_percent > 90:\r\n            issues.append(f"Low disk space: {disk_percent}% used")\r\n\r\n        if issues:\r\n            status += f" [ISSUES: {\', \'.join(issues)}]"\r\n            self.get_logger().warn(f"System issues detected: {\', \'.join(issues)}")\r\n        else:\r\n            self.get_logger().info("System health: All good")\r\n\r\n        status_msg.data = status\r\n        self.status_pub.publish(status_msg)\r\n\r\ndef main(args=None):\r\n    rclpy.init(args=args)\r\n    monitor = HealthMonitor()\r\n\r\n    try:\r\n        rclpy.spin(monitor)\r\n    except KeyboardInterrupt:\r\n        pass\r\n    finally:\r\n        monitor.destroy_node()\r\n        rclpy.shutdown()\r\n\r\nif __name__ == \'__main__\':\r\n    main()\n'})}),"\n",(0,r.jsx)(s.h2,{id:"troubleshooting-checklist",children:"Troubleshooting Checklist"}),"\n",(0,r.jsx)(s.h3,{id:"before-deployment",children:"Before Deployment"}),"\n",(0,r.jsxs)(s.ul,{className:"contains-task-list",children:["\n",(0,r.jsxs)(s.li,{className:"task-list-item",children:[(0,r.jsx)(s.input,{type:"checkbox",disabled:!0})," ","All nodes start without errors"]}),"\n",(0,r.jsxs)(s.li,{className:"task-list-item",children:[(0,r.jsx)(s.input,{type:"checkbox",disabled:!0})," ","TF tree is complete and correct"]}),"\n",(0,r.jsxs)(s.li,{className:"task-list-item",children:[(0,r.jsx)(s.input,{type:"checkbox",disabled:!0})," ","Sensor data is being published and is valid"]}),"\n",(0,r.jsxs)(s.li,{className:"task-list-item",children:[(0,r.jsx)(s.input,{type:"checkbox",disabled:!0})," ","Communication between nodes works properly"]}),"\n",(0,r.jsxs)(s.li,{className:"task-list-item",children:[(0,r.jsx)(s.input,{type:"checkbox",disabled:!0})," ","Parameters are set correctly"]}),"\n",(0,r.jsxs)(s.li,{className:"task-list-item",children:[(0,r.jsx)(s.input,{type:"checkbox",disabled:!0})," ","Safety limits are configured"]}),"\n",(0,r.jsxs)(s.li,{className:"task-list-item",children:[(0,r.jsx)(s.input,{type:"checkbox",disabled:!0})," ","Emergency stop functions properly"]}),"\n"]}),"\n",(0,r.jsx)(s.h3,{id:"during-operation",children:"During Operation"}),"\n",(0,r.jsxs)(s.ul,{className:"contains-task-list",children:["\n",(0,r.jsxs)(s.li,{className:"task-list-item",children:[(0,r.jsx)(s.input,{type:"checkbox",disabled:!0})," ","Monitor system resource usage"]}),"\n",(0,r.jsxs)(s.li,{className:"task-list-item",children:[(0,r.jsx)(s.input,{type:"checkbox",disabled:!0})," ","Check for error messages in logs"]}),"\n",(0,r.jsxs)(s.li,{className:"task-list-item",children:[(0,r.jsx)(s.input,{type:"checkbox",disabled:!0})," ","Verify sensor data quality"]}),"\n",(0,r.jsxs)(s.li,{className:"task-list-item",children:[(0,r.jsx)(s.input,{type:"checkbox",disabled:!0})," ","Monitor robot behavior for anomalies"]}),"\n",(0,r.jsxs)(s.li,{className:"task-list-item",children:[(0,r.jsx)(s.input,{type:"checkbox",disabled:!0})," ","Check communication health"]}),"\n",(0,r.jsxs)(s.li,{className:"task-list-item",children:[(0,r.jsx)(s.input,{type:"checkbox",disabled:!0})," ","Verify safety systems are active"]}),"\n"]}),"\n",(0,r.jsx)(s.h3,{id:"post-operation",children:"Post-Operation"}),"\n",(0,r.jsxs)(s.ul,{className:"contains-task-list",children:["\n",(0,r.jsxs)(s.li,{className:"task-list-item",children:[(0,r.jsx)(s.input,{type:"checkbox",disabled:!0})," ","Review logs for any issues"]}),"\n",(0,r.jsxs)(s.li,{className:"task-list-item",children:[(0,r.jsx)(s.input,{type:"checkbox",disabled:!0})," ","Check for memory leaks or resource issues"]}),"\n",(0,r.jsxs)(s.li,{className:"task-list-item",children:[(0,r.jsx)(s.input,{type:"checkbox",disabled:!0})," ","Update calibration if needed"]}),"\n",(0,r.jsxs)(s.li,{className:"task-list-item",children:[(0,r.jsx)(s.input,{type:"checkbox",disabled:!0})," ","Document any issues encountered"]}),"\n",(0,r.jsxs)(s.li,{className:"task-list-item",children:[(0,r.jsx)(s.input,{type:"checkbox",disabled:!0})," ","Plan improvements for next run"]}),"\n"]}),"\n",(0,r.jsx)(s.h2,{id:"getting-help",children:"Getting Help"}),"\n",(0,r.jsx)(s.h3,{id:"when-to-seek-help",children:"When to Seek Help"}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsx)(s.li,{children:"Issues persist after systematic troubleshooting"}),"\n",(0,r.jsx)(s.li,{children:"Problems affect safety systems"}),"\n",(0,r.jsx)(s.li,{children:"Unknown error messages appear"}),"\n",(0,r.jsx)(s.li,{children:"Performance is significantly below expectations"}),"\n",(0,r.jsx)(s.li,{children:"Integration issues between components"}),"\n"]}),"\n",(0,r.jsx)(s.h3,{id:"resources",children:"Resources"}),"\n",(0,r.jsxs)(s.ol,{children:["\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"ROS 2 Documentation"}),": ",(0,r.jsx)(s.a,{href:"https://docs.ros.org/",children:"https://docs.ros.org/"})]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"ROS Answers"}),": ",(0,r.jsx)(s.a,{href:"https://answers.ros.org/",children:"https://answers.ros.org/"})]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"GitHub Issues"}),": Check package repositories"]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Community Forums"}),": Discourse, Reddit ROS communities"]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Company/Institution Support"}),": Internal documentation and experts"]}),"\n"]}),"\n",(0,r.jsx)(s.h3,{id:"providing-good-bug-reports",children:"Providing Good Bug Reports"}),"\n",(0,r.jsx)(s.p,{children:"When seeking help, provide:"}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"System information"}),": ROS 2 version, OS, hardware"]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Steps to reproduce"}),": Clear sequence of actions"]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Expected vs. actual"}),": What should happen vs. what happens"]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Error messages"}),": Complete error output"]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Configuration files"}),": Relevant parameter files"]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Log files"}),": Recent log entries"]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Minimal example"}),": Simplified case that reproduces the issue"]}),"\n"]}),"\n",(0,r.jsx)(s.h2,{id:"next-steps",children:"Next Steps"}),"\n",(0,r.jsx)(s.p,{children:"This completes the Capstone Project module. You now have comprehensive knowledge of integration, testing, and troubleshooting for humanoid robotics systems. Apply these concepts in your final project implementation and validation."})]})}function h(e={}){const{wrapper:s}={...(0,i.RP)(),...e.components};return s?(0,r.jsx)(s,{...e,children:(0,r.jsx)(d,{...e})}):d(e)}},8453:(e,s,n)=>{n.d(s,{RP:()=>o});var r=n(6540);const i=r.createContext({});function o(e){const s=r.useContext(i);return r.useMemo(()=>"function"==typeof e?e(s):{...s,...e},[s,e])}}}]);