"use strict";(globalThis.webpackChunkhumanoid_robotics_book=globalThis.webpackChunkhumanoid_robotics_book||[]).push([[7387],{6537:(e,r,n)=>{n.r(r),n.d(r,{assets:()=>l,contentTitle:()=>o,default:()=>p,frontMatter:()=>t,metadata:()=>a,toc:()=>c});var s=n(4848),i=n(8453);const t={},o="Mini-Project: Creating a ROS 2 Package",a={id:"ros-fundamentals/mini-project",title:"Mini-Project: Creating a ROS 2 Package",description:"Overview",source:"@site/docs/ros-fundamentals/mini-project.md",sourceDirName:"ros-fundamentals",slug:"/ros-fundamentals/mini-project",permalink:"/humanoid-robotics-book/ros-fundamentals/mini-project",draft:!1,unlisted:!1,editUrl:"https://github.com/ArifAbbas11/humanoid-robotics-book/tree/main/docs/ros-fundamentals/mini-project.md",tags:[],version:"current",frontMatter:{},sidebar:"bookSidebar",previous:{title:"URDF Basics",permalink:"/humanoid-robotics-book/ros-fundamentals/urdf-basics"},next:{title:"Troubleshooting ROS 2 Issues",permalink:"/humanoid-robotics-book/ros-fundamentals/troubleshooting"}},l={},c=[{value:"Overview",id:"overview",level:2},{value:"Prerequisites",id:"prerequisites",level:2},{value:"Step 1: Create the Package",id:"step-1-create-the-package",level:2},{value:"Step 2: Create a Publisher Node",id:"step-2-create-a-publisher-node",level:2},{value:"Step 3: Update setup.py",id:"step-3-update-setuppy",level:2},{value:"Step 4: Build and Run",id:"step-4-build-and-run",level:2},{value:"Next Steps",id:"next-steps",level:2}];function d(e){const r={a:"a",code:"code",h1:"h1",h2:"h2",li:"li",p:"p",pre:"pre",ul:"ul",...(0,i.RP)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(r.h1,{id:"mini-project-creating-a-ros-2-package",children:"Mini-Project: Creating a ROS 2 Package"}),"\n",(0,s.jsx)(r.h2,{id:"overview",children:"Overview"}),"\n",(0,s.jsx)(r.p,{children:"In this mini-project, you'll create a complete ROS 2 package that controls a simulated robot."}),"\n",(0,s.jsx)(r.h2,{id:"prerequisites",children:"Prerequisites"}),"\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsx)(r.li,{children:"ROS 2 Humble Hawksbill installed"}),"\n",(0,s.jsx)(r.li,{children:"Completed previous sections"}),"\n"]}),"\n",(0,s.jsx)(r.h2,{id:"step-1-create-the-package",children:"Step 1: Create the Package"}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-bash",children:"mkdir -p ~/ros2_ws/src\r\ncd ~/ros2_ws/src\r\nros2 pkg create --build-type ament_python my_robot_pkg --dependencies rclpy std_msgs geometry_msgs\n"})}),"\n",(0,s.jsx)(r.h2,{id:"step-2-create-a-publisher-node",children:"Step 2: Create a Publisher Node"}),"\n",(0,s.jsxs)(r.p,{children:["Create ",(0,s.jsx)(r.code,{children:"my_robot_pkg/my_robot_pkg/publisher_member_function.py"}),":"]}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-python",children:"import rclpy\r\nfrom rclpy.node import Node\r\nfrom std_msgs.msg import String\r\n\r\nclass MinimalPublisher(Node):\r\n    def __init__(self):\r\n        super().__init__('minimal_publisher')\r\n        self.publisher_ = self.create_publisher(String, 'robot_status', 10)\r\n        timer_period = 0.5  # seconds\r\n        self.timer = self.create_timer(timer_period, self.timer_callback)\r\n        self.i = 0\r\n\r\n    def timer_callback(self):\r\n        msg = String()\r\n        msg.data = 'Robot operational: %d' % self.i\r\n        self.publisher_.publish(msg)\r\n        self.get_logger().info('Publishing: \"%s\"' % msg.data)\r\n        self.i += 1\r\n\r\ndef main(args=None):\r\n    rclpy.init(args=args)\r\n    minimal_publisher = MinimalPublisher()\r\n    rclpy.spin(minimal_publisher)\r\n    minimal_publisher.destroy_node()\r\n    rclpy.shutdown()\n"})}),"\n",(0,s.jsx)(r.h2,{id:"step-3-update-setuppy",children:"Step 3: Update setup.py"}),"\n",(0,s.jsxs)(r.p,{children:["Update ",(0,s.jsx)(r.code,{children:"setup.py"})," to include your executable:"]}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-python",children:"entry_points={\r\n    'console_scripts': [\r\n        'talker = my_robot_pkg.publisher_member_function:main',\r\n    ],\r\n},\n"})}),"\n",(0,s.jsx)(r.h2,{id:"step-4-build-and-run",children:"Step 4: Build and Run"}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-bash",children:"cd ~/ros2_ws\r\ncolcon build --packages-select my_robot_pkg\r\nsource install/setup.bash\r\nros2 run my_robot_pkg talker\n"})}),"\n",(0,s.jsx)(r.h2,{id:"next-steps",children:"Next Steps"}),"\n",(0,s.jsxs)(r.p,{children:["Continue to ",(0,s.jsx)(r.a,{href:"/humanoid-robotics-book/ros-fundamentals/troubleshooting",children:"Troubleshooting"})," for common issues and solutions."]})]})}function p(e={}){const{wrapper:r}={...(0,i.RP)(),...e.components};return r?(0,s.jsx)(r,{...e,children:(0,s.jsx)(d,{...e})}):d(e)}},8453:(e,r,n)=>{n.d(r,{RP:()=>t});var s=n(6540);const i=s.createContext({});function t(e){const r=s.useContext(i);return s.useMemo(()=>"function"==typeof e?e(r):{...r,...e},[r,e])}}}]);